# SSL

MySQL的SSL（Secure Socket Layer）加密功能用于对传输中的数据进行加密，适用于增强MySQL连接安全性

## 适用版本
- MySQL：5.6、5.7、8.0
- Percona：5.6、5.7

## 功能简介

SSL加密功能对MySQL和客户端之间传输的数据进行加密，防止数据被第三方截取等。

开启SSL加密后，客户端连接可以选择加密传输，也可以选择非加密传输

加密连接的建立过程中，MySQL会发送服务器证书（包含公钥）给客户端，客户端用收到的公钥加密生成的对称密钥，只有MySQL的私钥能够解密该对称密钥，MySQL和客户端将使用该对称密钥对通信数据进行加密和解密，来保证通信的安全 。

## 影响

开启SSL加密、关闭SSL加密会重启实例，建议在业务低峰期操作，并确保您的应用有自动重连机制。

## 开启SSL

1. 访问MySQL实例列表，在上方选择地域，然后单击目标实例ID。

2. 在左侧导航栏最下方即可开启，也可以下载CA证书。(如果没有看到SSL功能，请重新确认本功能的适用版本)

3. 开启SSL需要大约30S的时间，可以手动刷新页面查看实例的状态。

## 关闭SSL

1. 访问MySQL实例列表，在上方选择地域，然后单击目标实例ID。

2. 在左侧导航栏最下方即可关闭。

## 更新证书有效期

1. 访问MySQL实例列表，在上方选择地域，然后单击目标实例ID。

2. 在左侧导航栏最下方找到到期时间，点击右侧修改图标即可进行修改。

## 使用证书连接

1. 访问MySQL实例列表，在上方选择地域，然后单击目标实例ID。

2. 在左侧导航栏最下方下载证书文件，然后使用mysql相关命令即可加密连接mysql(mysql -h ip -u user -p passwd --ssl=pem文件路径)

## 文件格式
下载的文件为压缩包，包含如下三种CA文件：

- PEM文件：适用于绝大部分场景。

- JKS文件：PEM格式CA证书通常需要导入到truststore，即转换为JKS文件才能在Java中使用。您可以在Java程序中使用此JKS文件，密码为YlU1sOxOb0XIc。

- p7b文件：适用于少数要求PKCS #7证书文件的Windows应用。
