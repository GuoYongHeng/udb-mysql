

# Slave从库管理

用户可以对MySQL实例的主库（Master）创建从库（Slave）。对于多可用区地域，支持跨可用区创建从库，即主库实例与从库部署在不同可用区，实现可用区级别的容灾能力。从库不支持批量创建，一次只能针对一个MySQL实例的主库（Master）。

## 创建从库

选中MySQL实例，点击操作项中的“创建从库”按钮。

![image](/images/从库00.png)

在弹窗中选择从库所在可用区、数据库机型（支持主库与从库创建不同机型）及内存大小（默认主库内存大小），选择是否锁定主库（Master），输入从库（Slave）的名称，端口（默认3306）。

![image](/images/从库001.png)

点击“确定”之后，进入付费页面，确认付费之后，从库（Slave）购买成功并进行初始化和数据同步。

![image](/images/从库02.png)

注意：初始化时间取决于数据量大小。

## 管理从库

MySQL实例的slave从库控制台提供登录、启动、重启、关闭、配置升降级、修改配置文件、提升为主库、删除、续费及监控告警等管理操作功能；启动、关闭、重启等基础操作参考MySQL实例基础操作。

### 提升为主库

选择需要提升为主库的slave从库实例，点击操作项中“提升为主库”按钮，弹窗确认。

![image](/images/从库002.png)

![image](/images/从库003.png)


### 重做从库

当从库无法继续同步主库时，可以尝试进行手动重做从库，重做从库会从主库导出数据进行数据恢复。重做发起前，会先进行重做条件的预检查，对于没有异常的实例，可以直接点击确定，开始重做。对于实例非事务引擎大小多于1G的情况(影响同步主库的锁表时间)，实例存在长事务的情况(有长事务会导致重做拿不到锁一直在重做中)，以及实例复制关系不正确的情况(不合理的复制关系将被抹除)，需要手动勾选强制，开始重做。

![image](/images/RemakeReadonly.png)
![image](/images/ForceRemake.png)


